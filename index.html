<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Formulario restringido</title>
  <!-- Enlace al archivo CSS -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container logo">
    <h1>Bienvenido al sitio</h1>
    <div class="row">
      <!-- Columna de imágenes -->
      <div class="column">
        <img src="img/RA.png" alt="Imagen 1">
      </div>
      <!-- Columna del formulario (inicialmente oculta) -->
      <div class="column" id="formulario">
        <!-- Código de inserción del formulario de Google -->
        <iframe src="https://forms.gle/sApbmzHR6JuDyura6" width="640" height="780" frameborder="0" marginheight="0" marginwidth="0">Cargando…</iframe>
      </div>
      <div class="column logo">
        <img src="img/KA.png" alt="Imagen 2">
      </div>
    </div>
  </div>

  <!-- Agrega aquí los scripts JavaScript -->
  <script src="https://www.gstatic.com/firebasejs/9.1.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.1.2/firebase-auth.js"></script>
  <script>
    // Configuración de Firebase (reemplaza con la configuración de tu proyecto)
    const firebaseConfig = {
      apiKey: "AIzaSyB6SueBuSjb98osBIADl4P3pZj3NNU8wo4",
      authDomain: "https://comite-electoral-fuc-2023.github.io/",
      projectId: "comite-electoral-f0f79",
      // ...otros detalles de configuración
    };
    
    // Inicializa Firebase
    firebase.initializeApp(firebaseConfig);

    // Verificar el estado de autenticación
    firebase.auth().onAuthStateChanged(function(user) {
      if (user) {
        // Usuario autenticado, muestra el formulario
        document.getElementById('formulario').style.display = 'block';
      } else {
        // Usuario no autenticado, redirige a la página de inicio de sesión de Google
        const provider = new firebase.auth.GoogleAuthProvider();
        firebase.auth().signInWithRedirect(provider);
      }
    });
  </script>
</body>
</html>
